<div class="pratilipi-review">
	<div class="review-header">
		<div class="user-info">
			<img data-bind="attr: { src: getImageUrl( review.userImageUrl(), 48 ) }" class="mdl-list__item-avatar">
			<div style="padding: 0 8px;">
				<a class="reviewer-name font-m" data-bind="attr: { href: review.userProfilePageUrl() }, text: review.user.displayName()"></a>
				<br/>
				<span class="font-s review-date" data-bind="text: convertDate( review.reviewDateMillis() )"></span>
			</div>
		</div>
		<span class="user-rating">
			<pratilipi-rating params="rating: review.rating()"></pratilipi-rating>
		</span>
	</div>

	<div class="review-container material-subtitle-1" data-bind="text: review.review()"></div>

	<div class="review-footer font-14">
		<span data-bind="visible: likeCount() > 0, text: likeCount()"></span>
		<button data-bind="click: likeDislikeReview" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon">
			<i class="material-icons material-icons-16" data-bind="css: { 'mdl-color-text--primary': isLiked() }">thumb_up</i>
		</button>
		<span class="reply"></span>	
		<span data-bind="visible: commentCount() > 0, text: commentCount()"></span>
		<button data-bind="click: showReplyState" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon">
			<i class="material-icons material-icons-16" role="presentation">message</i>
		</button>	
		<span class="view-all-replies clickable-element" data-bind="visible: commentCount() > 0, click: toggleShowRepliesState, text: showRepliesText"></span>
	</div>

	<ul class="mdl-list sub-review" data-bind="visible: isSubreviewListVisible">
		<div data-bind="visible: isCommentsShown, foreach: comments">
			<pratilipi-review-comment params="{ value: $data, deleteComment: $parent.deleteComment }"></pratilipi-review-comment>
		</div>
		<pratilipi-review-reply data-bind="visible: isReplyStateOn" params="parent: $parent"></pratilipi-review-reply>
	</ul>

	<div data-bind="visible: $index() != ( $parents[1].totalReviewCount() - 1 ) ">
		<hr />
	</div>
</div>
