<div class="mdl-card mdl-card-border mdl-cell mdl-cell--8-col-tablet mdl-cell--9-col mobile-card" >
    <div class="mdl-grid" style="margin: 0;">
        <!--  <h3 data-bind="text: newReviewContent.length ? 'ui' : 'vfdv'"></h3> -->
        <!-- <h3 class="mdl-cell mdl-cell--12-col mdl-typography--headline" data-bind="text: pratilipiObj.pratilipiId"></h3> -->
        <h3 class="mdl-cell mdl-cell--12-col mdl-typography--headline">${ _strings.review_heading }</h3>
        <div class="mdl-cell mdl-cell--12-col mdl-card__supporting-text padding-zero " data-bind="if: hasAccessToReview">
            <div class="mdl-grid padding-zero">
                <div class="mdl-cell--6-col mdl-cell--4-col-tablet padding-zero">
                    <!-- ko foreach: ko.utils.range( 1, selectedReviewRating ) -->
                        <i class="material-icons material-icons-36 clickableElement" data-bind="click: $parent.openReviewModalWithRating.bind($data, $data)">star</i>
                    <!-- /ko -->
                    <!-- ko foreach: ko.utils.range( 1, emptyReviewRating ) -->
                        <i class="material-icons material-icons-36 clickableElement" data-bind="click: $parent.openReviewModalWithRating.bind($data, $data + $parent.selectedReviewRating() )">star_border</i>
                    <!-- /ko -->
                </div>
                <div class="mdl-cell--6-col mdl-cell--4-col-tablet padding-zero">
                    <button data-bind="click: openReviewModal.bind( $data )" class="mdl-button mdl-js-button mdl-button--raised mdl-button--colored mdl-js-ripple-effect pull-right">${ _strings.review_write_a_review }</button>
                </div>
            </div>
        </div>
        <div data-bind="visible: ! isReviewsLoaded()" 
            style="margin: 25px auto;"  
            class="mdl-spinner mdl-spinner--single-color mdl-js-spinner is-active">
        </div>              
        <div class="mdl-cell mdl-cell--12-col mdl-card__supporting-text padding-zero " data-bind="visible: reviewList().length > 0">
            <ul class="demo-list-three mdl-list" data-bind="foreach: reviewList">
                <pratilipi-review params="{ value: $data, deleteReview: $parent.deleteReview, pratilipiId: $parent.pratilipiId }"></pratilipi-review>                               
            </ul>
            <li class="show-more" data-bind="if: areMoreReviews">
                <div>
                    <center>
                        <button data-bind="click: loadMoreReviews" class="mdl-button mdl-js-button mdl-button--accent mdl-js-ripple-effect">${ _strings.show_more }</button>
                    </center>
                </div>
            </li>
        </div>
    </div>
</div>

<!-- Button trigger modal -->
<button type="button" class="btn btn-primary btn-lg" data-toggle="modal" data-target="#pratilipi-review-dialog">
  Launch demo modal
</button>

<!-- Modal -->
<div class="modal common-modal fade" id="pratilipi-review-dialog" tabindex="-1" role="dialog" aria-labelledby="reviewLabel">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
      	<button class="mdl-button mdl-js-button mdl-button--icon" class="close" data-dismiss="modal" aria-label="Close">
		  	<i class="material-icons">close</i>
		</button>
        <h4 class="modal-title" id="reviewLabel">Rate and Review</h4>
      </div>
    <div class="modal-body">
        <!-- ko foreach: ko.utils.range( 1, selectedReviewRating ) -->
            <i class="material-icons material-icons-36 clickableElement" data-bind="click: $parent.changeReviewRating.bind($data, $data)">star</i>
        <!-- /ko -->
        <!-- ko foreach: ko.utils.range( 1, emptyReviewRating ) -->
            <i class="material-icons material-icons-36 clickableElement" data-bind="click: $parent.changeReviewRating.bind($data, $data + $parent.selectedReviewRating() )">star_border</i>
        <!-- /ko -->
        <form action="#">
            <div class="mdl-textfield mdl-js-textfield">
                <textarea data-bind="textInput: newReviewContent" class="mdl-textfield__input" type="text" rows= "3" id="review" ></textarea>
                <label class="mdl-textfield__label" for="review" data-bind="text: newReviewContent.length ? '' : '${ _strings.review_write_a_review }'"></label>
            </div>
        </form>
    </div>
    <div class="modal-footer">
        <button data-bind="click: postNewReview, disable: isSaveDisabled" class="mdl-button mdl-js-button mdl-button--colored mdl-js-ripple-effect mdl-button--raised">${ _strings.review_submit_review }</button>
        <button class="mdl-button mdl-js-button mdl-js-ripple-effect close"  data-dismiss="modal">${ _strings.cancel }</button>
      </div>
    </div>
  </div>
</div>  