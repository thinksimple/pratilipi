<div class="mdl-card mdl-card-border mdl-cell mdl-cell--8-col-tablet mdl-cell--9-col mobile-card pratilipi-review-list">
	<div class="mdl-grid" style="margin: 0;">
		<h3 class="mdl-cell mdl-cell--12-col mdl-typography--headline">${ _strings.review_heading }</h3>
		<div data-bind="visible: hasAccessToReview()" class="mdl-cell mdl-cell--12-col mdl-card__supporting-text padding-zero">
			<div class="mdl-grid padding-zero mdl-grid--no-spacing">
				<div class="mdl-cell--6-col mdl-cell--4-col-tablet padding-zero">
					<!-- ko component: {
						name: "pratilipi-rating-input",
						params: { rating: ratingInput }
					} -->
					<!-- /ko -->
				</div>
				<div class="mdl-cell--6-col mdl-cell--4-col-tablet padding-zero">
					<button data-bind="click: openReviewModal" class="mdl-button mdl-js-button mdl-button--raised mdl-button--colored mdl-js-ripple-effect pull-right write-review-button">${ _strings.review_write_a_review }</button>
				</div>
			</div>
		</div>

		<div class="mdl-cell mdl-cell--12-col mdl-card__supporting-text padding-zero ">
			<ul class="demo-list-three mdl-list" style="margin: 0;" data-bind="visible: reviewList().length > 0">
				<!-- ko foreach: reviewList -->
					<!-- ko component: {
						name: "pratilipi-review",
						params: { review: $data, deleteReview: $parent.deleteReview, pratilipiId: $parent.pratilipi.pratilipiId() }
					} -->
					<!-- /ko -->
				<!-- /ko -->
				<li data-bind="visible: hasMoreReviews()">
					<div class="show-more text-center">
						<button data-bind="click: loadMoreReviews" class="mdl-button mdl-js-button mdl-button--accent mdl-js-ripple-effect">${ _strings.show_more }</button>
					</div>
				</li>
			</ul>
			<div data-bind="visible: loadingState() == 'LOADING'" class="spinner-holder" style="display: block; text-align: center;">
				<span class="mdl-spinner mdl-spinner--single-color mdl-js-spinner is-active"></span>
			</div>
			<div class="mdl-cell mdl-cell--12-col mdl-card__supporting-text padding-zero material-subtitle-2"
					data-bind="visible: loadingState() == 'LOADED_EMPTY', 
							text: hasAccessToReview() ? '${ _strings.rating_be_first_one }' : '${ _strings.pratilipi_no_reviews }'">
			</div>
		</div>

	</div>
</div>

<#-- Modal -->
<div class="modal common-modal fade" id="pratilipi-review-input-dialog" tabindex="-1" role="dialog" aria-labelledby="reviewLabel">
  <div class="modal-dialog" role="document">
	<div class="modal-content">
		<div class="modal-header">
			<button data-bind="click: closeReviewModal" class="mdl-button mdl-js-button mdl-button--icon close">
	  			<i class="material-icons">close</i>
			</button>
		  	<h6 class="modal-title" id="reviewLabel">${ _strings.rate_and_review }</h6>
		</div>
		<div class="modal-body">
			<!-- ko component: {
				name: "pratilipi-rating-input",
				params: { rating: ratingInput }
			} -->
			<!-- /ko -->
			<textarea data-bind="{ mdlFloatingInput: { label: '${ _strings.review_write_a_review }', value: reviewInput, id: 'pratilipi_review_list_review_input' }, valueUpdate: ['input'], transliterate: true }" rows= "3"></textarea>
		</div>
		<div class="modal-footer">
			<button data-bind="click: closeReviewModal" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button-margin"  data-dismiss="modal">${ _strings.cancel }</button>
			<button data-bind="click: addReview, enable: canAddReview" class="mdl-button mdl-js-button mdl-button--colored mdl-js-ripple-effect mdl-button--raised">${ _strings.review_submit_review }</button>
		</div>
	</div>
  </div>
</div> 