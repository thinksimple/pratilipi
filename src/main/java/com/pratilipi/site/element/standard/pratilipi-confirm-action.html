<dom-module id="pratilipi-confirm-action">
	
	<template>
		<div class="modal fade" id="pratilipiConfirmAction">
			<div class="modal-dialog">
				<div class="modal-content">
					<div class="modal-header">
						<h6 class="modal-heading">{{ modalTitle }}</h6>
						<span class="modal-close-button"><paper-icon-button noink icon="close" data-dismiss="modal"></paper-icon-button></span>
					</div>
					<div class="modal-body">
						{{ modalContent }}
					</div>
					<div class="modal-footer">
						<template is="dom-if" if="{{ invertButtons }}">
							<button id="okayButton" class="btn btn-danger pull-left" on-click="setTrue">{{ modalOkayButton }}</button>
							<button id="cancelButton" class="btn btn-primary pull-right" on-click="setFalse">{{ modalCancelButton }}</button>
						</template>
						<template is="dom-if" if="{{ !invertButtons }}">
							<button style="margin-top: 12px;" id="cancelButton" class="btn btn-danger pull-left" on-click="setFalse">{{ modalCancelButton }}</button>
							<button style="margin-top: 12px;" id="okayButton" class="btn btn-primary pull-right"  on-click="setTrue">{{ modalOkayButton }}</button>
						</template>
					</div>
				</div>
			</div>
		</div>
	</template>
	
	<script>
		Polymer({
			is: 'pratilipi-confirm-action',
			
			properties: {
				value: { type: Boolean, notify: true },
				
				modalTitle: { type: String },
				modalContent: { type: String },
				modalOkayButton: { type: String, value: "${ _strings.okay }" },
				modalCancelButton: { type: String, value: "${ _strings.cancel }" },

				invertButtons: { type: Boolean, value: false }
			},
			
			setTrue: function() {
				this.set( 'value', true );
				this.close();
			},
			
			setFalse: function() {
				this.set( 'value', false );
				this.close();
			},
			
			open: function() {
				this.async( function() {
					jQuery( "#pratilipiConfirmAction" ).modal();
				});
			},
			
			close: function() {
				this.async( function() {
					jQuery( "#pratilipiConfirmAction" ).modal( 'hide' );
				}, 100 );
			}
		});
	</script>
	
</dom-module>